#!/usr/bin/env python

import sys
import xml.sax

# read in the xml spec from svn st --xml, and spit out all svn-owned items
# (doing this with grep/sed would require state or other trickiness)
class SvnPathEmitter(xml.sax.ContentHandler):
    def __init__(self): xml.sax.ContentHandler.__init__(self)

    def startElement(self, name, attrs):
        if name == 'entry':
            self.path = attrs.get('path')
        if name == 'wc-status' and attrs.get('item', '') != 'unversioned':
            print self.path

xml.sax.parse(sys.stdin, SvnPathEmitter())
